using BepInEx;
using HarmonyLib;

namespace MonsterTrainInvulnerableMod
{

    [BepInPlugin(GUID, NAME, VERSION)]
    [BepInProcess("MonsterTrain.exe")]
    [BepInProcess("MtLinkHandler.exe")]
    public class Invulnerability : BaseUnityPlugin
    {
        public const string GUID = "com.github.cdietschrun.MonsterTrainInvulnerableMod";
        public const string NAME = "Invulnerable Pyre Mod";
        public const string VERSION = "0.1.0";

        private void Awake()
        {
            var harmony = new Harmony(GUID);
            harmony.PatchAll();
        }
    }

    [HarmonyPatch(typeof(CombatManager), "AttackTower")]
    public static class AttackTowerOverride
    {
        private static void Prefix(ref int newHP, ref SaveManager ___saveManager)
        {
            newHP = ___saveManager.GetTowerHP();
            //this.pyreHeart.SetAttackDamage(90);
        }
    }

}
